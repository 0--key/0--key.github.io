---
layout: post
title: Grammar check
tagline: " in Emacs"
permalink: /emacs/grammar_checker.html
categories: [Literate Programming, Emacs]
tags: [grammar]
---

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org6f62298">Intro</a></li>
<li><a href="#org80bb38a">Prerequisites</a>
<ul>
<li><a href="#org7bdaf3c">Check up Java</a></li>
<li><a href="#orgd6f0caf">Check up Java libs</a></li>
<li><a href="#org3a04245">Default folder for Java packages</a></li>
<li><a href="#org81a9690">Put Java package on place</a></li>
<li><a href="#orgc024251">Download languagetool</a></li>
<li><a href="#orgb9e337c">Extract it</a></li>
<li><a href="#org6aaa809">Ensure yourself</a></li>
</ul>
</li>
<li><a href="#orgdb1d8db">Install Emacs plugin</a></li>
<li><a href="#orgbc59bf5">Configure Emacs</a></li>
<li><a href="#orge160525">Final check</a></li>
</ul>
</div>
</div>

<div id="outline-container-org6f62298" class="outline-2">
<h2 id="org6f62298">Intro</h2>
<div class="outline-text-2" id="text-org6f62298">
<p>
This article covers an additional grammar check inside any Emacs
buffer. Full manual is at this <a href="https://github.com/mhayashi1120/Emacs-langtool">site</a>.
</p>
</div>
</div>

<div id="outline-container-org80bb38a" class="outline-2">
<h2 id="org80bb38a">Prerequisites</h2>
<div class="outline-text-2" id="text-org80bb38a">
</div>
<div id="outline-container-org7bdaf3c" class="outline-3">
<h3 id="org7bdaf3c">Check up Java</h3>
<div class="outline-text-3" id="text-org7bdaf3c">
<p>
e.g. <code>langtool</code> is Java package
</p>

<div class="org-src-container">
<pre class="src src-sh">java -version
</pre>
</div>

<pre class="example">
openjdk version "1.8.0_151"
OpenJDK Runtime Environment (build 1.8.0_151-8u151-b12-1~deb9u1-b12)
OpenJDK 64-Bit Server VM (build 25.151-b12, mixed mode)

</pre>

<p>
<i>Java 7</i> is installed already
</p>
</div>
</div>
<div id="outline-container-orgd6f0caf" class="outline-3">
<h3 id="orgd6f0caf">Check up Java libs</h3>
<div class="outline-text-3" id="text-orgd6f0caf">
<p>
Where all stuff located on your system
</p>

<div class="org-src-container">
<pre class="src src-sh">which java
</pre>
</div>

<pre class="example">
/usr/bin/java

</pre>
</div>
</div>

<div id="outline-container-org3a04245" class="outline-3">
<h3 id="org3a04245">Default folder for Java packages</h3>
<div class="outline-text-3" id="text-org3a04245">
<p>
it is <code>/usr/local/java/</code>, but in most cases it is absent in a file
tree after when you're successfuly re-installing OS.
</p>

<div class="org-src-container">
<pre class="src src-sh">ls -la /usr/local/java/
</pre>
</div>

<pre class="example">
ls: cannot access '/usr/local/java/': No such file or directory

</pre>

<p>
Lets create it:
</p>
<div class="org-src-container">
<pre class="src src-sh">mkdir /usr/local/java
ls -la /usr/local/java/
</pre>
</div>

<pre class="example">
mkdir: cannot create directory ‘/usr/local/java’: File exists
total 8
drwxr-sr-x  2 alioth staff 4096 Nov 20 12:59 .
drwxrwsr-x 12 root   staff 4096 Nov 20 12:59 ..

</pre>

<p>
Now, when we're already prepared our system it is very time for the
next step further.
</p>
</div>
</div>

<div id="outline-container-org81a9690" class="outline-3">
<h3 id="org81a9690">Put Java package on place</h3>
<div class="outline-text-3" id="text-org81a9690">
<p>
Perfect, now it's time to determine an appropriate place to
allocate your <i>Java</i> packages.
</p>

<div class="org-src-container">
<pre class="src src-sh">ls /usr/local/java
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc024251" class="outline-3">
<h3 id="orgc024251">Download languagetool</h3>
<div class="outline-text-3" id="text-orgc024251">
<p>
in zip archive from this <a href="https://languagetool.org/download/">site.</a> <i>3.6 version</i> seems compatible with
Java 8 version installed on our host. Choose it and download <code>zip</code>
archive.
</p>
</div>
</div>

<div id="outline-container-orgb9e337c" class="outline-3">
<h3 id="orgb9e337c">Extract it</h3>
<div class="outline-text-3" id="text-orgb9e337c">
<p>
into <code>Java lib</code> folder, in this particular case into
<code>/usr/local/java/</code>
</p>
</div>
</div>

<div id="outline-container-org6aaa809" class="outline-3">
<h3 id="org6aaa809">Ensure yourself</h3>
<div class="outline-text-3" id="text-org6aaa809">
<div class="org-src-container">
<pre class="src src-sh">ls /usr/local/java/LanguageTool-3.6/
</pre>
</div>

<pre class="example">
CHANGES.md
CHANGES.txt
COPYING.txt
languagetool-commandline.jar
languagetool.jar
languagetool-server.jar
libs
META-INF
org
README.md
testrules.bat
testrules.sh
third-party-licenses
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdb1d8db" class="outline-2">
<h2 id="orgdb1d8db">Install Emacs plugin</h2>
<div class="outline-text-2" id="text-orgdb1d8db">
<div class="org-src-container">
<pre class="src src-elisp">(package-install 'langtool)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbc59bf5" class="outline-2">
<h2 id="orgbc59bf5">Configure Emacs</h2>
<div class="outline-text-2" id="text-orgbc59bf5">
<p>
Add these strings into your Emacs config
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #87cefa;">require</span> '<span style="color: #ffd700; font-weight: bold;">langtool</span>)
(<span style="color: #87cefa;">setq</span> langtool-language-tool-jar <span style="color: #deb887; font-style: italic;">"/usr/local/java/LanguageTool-3.6/languagetool-commandline.jar"</span>)

(global-set-key <span style="color: #deb887; font-style: italic;">"\C-x4w"</span> 'langtool-check)
(global-set-key <span style="color: #deb887; font-style: italic;">"\C-x4W"</span> 'langtool-check-done)
(global-set-key <span style="color: #deb887; font-style: italic;">"\C-x4l"</span> 'langtool-switch-default-language)
(global-set-key <span style="color: #deb887; font-style: italic;">"\C-x44"</span> 'langtool-show-message-at-point)
(global-set-key <span style="color: #deb887; font-style: italic;">"\C-x4c"</span> 'langtool-correct-buffer)

(<span style="color: #87cefa;">setq</span> langtool-default-language <span style="color: #deb887; font-style: italic;">"en-US"</span>)
<span style="color: #cdc0b0; font-style: italic;">;;</span><span style="color: #cdc0b0; font-style: italic;">(setq langtool-java-bin "/usr/bin/java") ;; perhaps</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge160525" class="outline-2">
<h2 id="orge160525">Final check</h2>
<div class="outline-text-2" id="text-orge160525">

<div class="figure">
<p><img src="http://0--key.github.io/assets/img/grammar/first_test.png" alt="Grammar" width="80%" title="Grammar check" align="right" />
</p>
<p><span class="figure-number">Figure 1: </span>langTool usage</p>
</div>
</div>
</div>
